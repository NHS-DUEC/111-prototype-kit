
{# Prevent some repetition by abstracting this to a variable #}
{% set _questionText = page.question.text | default(page.title | default('Question')) %}

{#
  _sublayout variable configures the layout. It sets some defaults but allows them
  to be overriden by the page which is extending from this layout template.

  Some notes:
  -------------------------------------------------------------------
  supressHeading is used to allow a seperate heading for the page to that of
  the form inputs. It is set to true if the page defines the text input's label
  as being the pageHeading

  After that we default some values for ease and consistency,
  meaning there is no need to do it for each and every page but they can be overriden
  on a page by page basic should you need to.
#}
{% set _sublayout = {
  question: {
    supressHeading: true if page.question.textinput.label.isPageHeading else false,
    textinput: {
      idPrefix: _questionText | toCamelCase,
      name: _questionText | toCamelCase,
      label: {
        text: _questionText,
        size: 'l'
      } if page.question.textinput.label.isPageHeading
    }
  } | merge(page.question | default({}))
} %}

{% extends layouts.question %}

{% block question_body %}
  {{ input(_sublayout.question.textinput) | safe }}
{% endblock question_body %}
