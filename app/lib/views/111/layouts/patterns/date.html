{% set _fieldID = page.question.text | d(page.title) | default('date') | toCamelCase %}
{% set _sublayout = {
  file: '111/layouts/patterns/question.html',
  question: {
    supressHeading: true,
    callout: {
      position: 'bottom'
    },
    dateInput: {
      id: _fieldID,
      namePrefix: _fieldID,
      fieldset: {
        legend: {
          text: page.question.text | d(page.title) | d("Enter a date"),
          size: "l",
          isPageHeading: true
        }
      },
      values: {
        day: (data | getValueFromPath(page.question.dateInput.namePrefix + '[day]')),
        month: (data | getValueFromPath(page.question.dateInput.namePrefix + '[month]')),
        year: (data | getValueFromPath(page.question.dateInput.namePrefix + '[year]'))
      },
      hint: {
        text: page.question.hint | default("For example, 9 12 1981")
      },
      items: [
        {
          name: "day",
          classes: "nhsuk-input--width-2"
        },
        {
          name: "month",
          classes: "nhsuk-input--width-2"
        },
        {
          name: "year",
          classes: "nhsuk-input--width-4"
        }
      ]
    }
  }
} %}

{% extends _sublayout.file %}

{% block question_body %}
  {# this uses a default object from this layout file but that will be superceded by properties set within the page object #}
  {{ dateInput(_sublayout.question.dateInput | merge(page.question.dateInput | default({}))) }}
{% endblock question_body %}
