
{##########################################################################
# this is the component example block
##########################################################################}
{% if customExample %}
  {% set exampleHTML %}
    {%- block example %}{% endblock example -%}
  {% endset %}
{% else %}
  {% set exampleHTML %}
    {{ component | callMacroByName(options) }}
  {% endset %}
{% endif %}

{##########################################################################
# this is the html tab content
##########################################################################}
{% set tabHTML %}
    <pre><code class="hljs language-html">
      {{- exampleHTML | trim | htmlFormat | highlight | safe -}}
    </code></pre>
{% endset %}

{##########################################################################
# this is the nunjucks tab content
##########################################################################}
{% set njcontent %}
{{- "{{ " }}{{ component -}}
({{ options | convertToJSON(false, 2) | decode | safe -}})
{{- "}}" }}{% endset %}
{% set tabNJK %}<pre><code class="hljs language-twig">{{ njcontent | highlight('twig') | decode | safe }}</code></pre>{% endset %}


{##########################################################################
# build out the component example
##########################################################################}
<section class="prototype-component-example">
  <div class="prototype-component-example__header">
    <h2 class="prototype-component-example__heading nhsuk-heading-s nhsuk-u-margin-bottom-0">
      {{ component | title }}{% if variant %} &ndash; {{ variant }}{% endif %}
    </h2>
    <div class="prototype-component-example__description">
      {%- block description %}<p>{{ description }}</p>{% endblock description -%}
    </div>
  </div>
  <div class="prototype-component-example__placeholder">
    {%- block example %}{{ exampleHTML | safe }}{% endblock example -%}
  </div>
  <div class="prototype-component-example__footer">
    {{
      tabs({
        items: [
          {
            label: "HTML",
            id: "html" + variant,
            panel: {
              html: tabHTML
            }
          },
          {
            label: "Nunjucks",
            id: "nunjucks" + variant,
            panel: {
              html: tabNJK
            }
          } if not customExample
        ],
        classes: 'nhsuk-u-margin-bottom-0'
      })
    }}

  </div>
</section>

{#

    {% set tabHTML %}
    <pre><code class="hljs language-html">
      {{- params.html | trim | htmlFormat | highlight | safe -}}
    </code></pre>
    {% endset %}
    {% set njcontent %}
        {{- "{{ " }}{{ params.name | lower -}}
        ({{ params.options | convertToJSON(false, 2) | decode | safe -}})
      {{- "}}" }}{% endset %}
    {% set tabNJK %}<pre><code class="hljs language-twig">{{ njcontent | highlight('twig') | decode | safe }}</code></pre>{% endset %}
    {{
      tabs({
        items: [
          {
            label: "HTML",
            id: "html" + params.variant,
            panel: {
              html: tabHTML
            }
          },
          {
            label: "Nunjucks",
            id: "nunjucks" + params.variant,
            panel: {
              html: tabNJK
            }
          }
        ],
        classes: 'nhsuk-u-margin-bottom-0'
      })
    }}

#}
